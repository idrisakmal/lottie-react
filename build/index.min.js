"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var React=require("react"),React__default=_interopDefault(React),PropTypes=_interopDefault(require("prop-types")),lottie=_interopDefault(require("lottie-web"));function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ownKeys(n,e){var t,r=Object.keys(n);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(n),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)),r}function _objectSpread2(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}var Animator=React.forwardRef(function(e,n){function r(){w.current&&w.current.play()}function o(){w.current&&w.current.stop()}function a(){w.current&&w.current.pause()}function u(e){w.current&&w.current.setSpeed(e)}function c(e,n){w.current&&w.current.goToAndPlay(e,n)}function i(e,n){w.current&&w.current.goToAndStop(e,n)}function l(e){w.current&&w.current.setDirection(e)}function p(e,n){w.current&&w.current.playSegments(e,n)}function s(e){w.current&&w.current.setSubframe(e)}function f(){w.current&&w.current.destroy()}function d(e){if(w.current)return w.current.getDuration(e)}var y=e.animationData,m=e.loop,g=e.autoplay,P=e.initialSegment,t=e.onComplete,b=e.onLoopComplete,S=e.onEnterFrame,D=e.onSegmentStart,T=e.onConfigReady,R=e.onDataReady,v=e.onDataFailed,O=e.onLoadedImages,h=e.onDOMLoaded,_=e.onDestroy,j=e.style,A=e.className,E=React.useRef(null),w=React.useRef(null),L=n||React.useRef();React.useEffect(function(){!function(e){var n=0<arguments.length&&void 0!==e?e:{};w.current&&w.current.destroy();var t=_objectSpread2(_objectSpread2({animationData:y||null,loop:Number.isNaN(m)?!1!==m:m,autoplay:!1!==g,initialSegment:P||null},n),{},{container:E.current});w.current=lottie.loadAnimation(t),L&&(L.current={play:r,stop:o,pause:a,setSpeed:u,goToAndPlay:c,goToAndStop:i,setDirection:l,playSegments:p,setSubframe:s,destroy:f,getDuration:d})}()},[y,m,g,P]);return React.useEffect(function(){var e=[{name:"complete",handler:t},{name:"loopComplete",handler:b},{name:"enterFrame",handler:S},{name:"segmentStart",handler:D},{name:"config_ready",handler:T},{name:"data_ready",handler:R},{name:"data_failed",handler:v},{name:"loaded_images",handler:O},{name:"DOMLoaded",handler:h},{name:"destroy",handler:_}].map(function(e){return function(e,n,t){var r=2<arguments.length&&void 0!==t&&t;return w.current&&(r&&w.current.removeEventListener(e),e&&n)?(w.current.addEventListener(e,n),function(){w.current.removeEventListener(e,n)}):function(){}}(e.name,e.handler)});return function(){e.forEach(function(e){return e()})}},[t,b,S,D,T,R,v,O,h,_]),React__default.createElement("div",{ref:E,style:j,className:A})});Animator.propTypes={animationData:PropTypes.shape(void 0).isRequired,loop:PropTypes.oneOfType([PropTypes.bool,PropTypes.number]),autoplay:PropTypes.bool,initialSegment:PropTypes.arrayOf(PropTypes.shape(PropTypes.number.isRequired)),onComplete:PropTypes.func,onLoopComplete:PropTypes.func,onEnterFrame:PropTypes.func,onSegmentStart:PropTypes.func,onConfigReady:PropTypes.func,onDataReady:PropTypes.func,onDataFailed:PropTypes.func,onLoadedImages:PropTypes.func,onDOMLoaded:PropTypes.func,onDestroy:PropTypes.func,style:PropTypes.shape(void 0)},Animator.defaultProps={loop:!0,autoplay:!0,initialSegment:null,onComplete:null,onLoopComplete:null,onEnterFrame:null,onSegmentStart:null,onConfigReady:null,onDataReady:null,onDataFailed:null,onLoadedImages:null,onDOMLoaded:null,onDestroy:null,style:null};var useAnimator=function(e,n){var t=1<arguments.length&&void 0!==n?n:{},r=React.useRef(null),o=React.useRef(null);React.useEffect(function(){r.current=lottie.loadAnimation(_objectSpread2(_objectSpread2({},e),{},{container:o.current}))},[]);return{View:React__default.createElement("div",{style:t,ref:o}),play:function(){r.current&&r.current.play()},stop:function(){r.current&&r.current.stop()},pause:function(){r.current&&r.current.pause()},setSpeed:function(e){r.current&&r.current.setSpeed(e)},goToAndStop:function(e,n){r.current&&r.current.goToAndStop(e,n)},goToAndPlay:function(e,n){r.current&&r.current.goToAndPlay(e,n)},setDirection:function(e){r.current&&r.current.setDirection(e)},playSegments:function(e,n){r.current&&r.current.playSegments(e,n)},setSubframe:function(e){r.current&&r.current.setSubframe(e)},destroy:function(){r.current&&r.current.destroy()},getDuration:function(e){if(r.current)return r.current.getDuration(e)}}},index={Animator:Animator,useAnimator:useAnimator};module.exports=index;
